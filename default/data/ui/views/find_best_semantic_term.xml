<form script="single_trend.js" stylesheet="single_trend.css">
  <label>Find Best Semantic Term</label>
  <fieldset submitButton="false">
    <input type="text" token="field">
       <default></default>
       <label>Enter Field Name: </label>
    </input>
    <input type="text" token="value">
       <default></default>
       <label>Enter Value: </label>
    </input>
     <input type="radio" token="scope">
            <label>Select Context Scope</label>
            <default>Private</default>
            <choice value="private">Private</choice>
            <choice value="app">App</choice>
            <choice value="global">Global</choice>
        </input>
        <input type="dropdown" token="context" searchWhenChanged="true">
            <label>Context Name</label>
            <populatingSearch fieldForValue="context" fieldForLabel="context">
                | xsListContexts $scope$
            </populatingSearch>
        </input>

  </fieldset>
  <row>
    <single>
      <!-- sourcetype=demographics-2 | stats count by Height  | sort -count | head 1 -->
      <searchString>
        | stats count | eval $field$="$value$"
        | xsFindBestSemanticTerm $field$ in $context$ in $scope$     
        | rename BestCIX as termCIX       
        | rename BestSemanticTerm as termMatch        
        | rename UOM as units
        | xsFindBestSemanticTerm termCIX in Compatibility       
        | eval results = "Using Context $context$, the value of $value$ " + units + " in $field$ is " + BestSemanticTerm + " " + termMatch    
        | eval termCIX = round(termCIX, 2) * 100
        | eval compat = termCIX + "% Compatible"
      </searchString>
      <option name="field">results</option>
      <!-- Define custom settings for the trend visualization -->
      <option name="changeField">compat</option>
      <option name="trendClassField">trend</option>
    </single>
</row>
</form>
