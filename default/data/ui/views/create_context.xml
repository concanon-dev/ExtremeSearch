<form>
    <label>Create Context</label>
    <fieldset>
        <html>
            <p style="padding-top: 20px">
Enter values in each field as necessary to create the Context
            </p>
        </html>
        <input type="text" token="name">
            <default></default>
            <label>Context Name</label>
        </input>
        <input type="dropdown" token="type">
            <default>domain</default>
            <label>Context Type</label>
            <choice value="average_centered">Average Centered</choice>
            <choice value="domain">Domain</choice>
        </input>
        <input type="text" token="terms">
            <default>low,med,high</default>
            <label>Terms</label>
            <seed>low,med,high</seed>
        </input>
        <input type="dropdown" token="shape">
            <default>pi</default>
            <label>Shape of Middle Terms</label>
            <choice value="pi">PI</choice>
            <choice value="trapezoid">Trapezoid</choice>
            <choice value="triangle">Triangle</choice>
            <choice value="decrease">Single-only Decrease</choice>
            <choice value="increase">Single-only Increase</choice>
        </input>
        <input type="dropdown" token="endShape">
            <default>curve</default>
            <label>Shape of End Terms</label>
            <choice value="curve">Curve</choice>
            <choice value="linear">Linear</choice>
        </input>
        <input type="text" token="presearch">
            <default></default>
            <label>Data Search</label>
            <seed></seed>
        </input>
        <input type="text" token="datafield">
            <default></default>
            <label>Field to build Context for</label>
            <seed></seed>
        </input>
        <input type="text" token="notes">
            <label>Notes</label>
            <default>None</default>
        </input>
        <input type="radio" token="scope">
            <label>Select Context Scope</label>
            <choice value="1">Private</choice>
            <choice value="2">App</choice>
            <choice value="3">Global</choice>
        </input>
    </fieldset>

    <!-- 
         define master search template; leave time unbounded so that the time input can be used 
      -->
    <searchTemplate>
$presearch$ | stats avg($datafield$) as avg count($datafield$) as count max($datafield$) as max min($datafield$) as min stdev($datafield$) as stdev | xsCreateContext name=$name$ terms="$terms$" type=$type$ shape="$shape$" endshape="$endShape$" notes="$notes$" scope="$scope$"
    </searchTemplate>

    <row>   
        <!-- 
             show results as a table 
          -->
        <chart>
            <title>Context</title>
            <option name="charting.chart">column</option>
            <option name="axisTitleX.text">buckets</option>
            <option name="axisTitleY.text">CIX</option>
        </chart>
        <table>
            <option name="showPager">true</option>
            <option name="count">10</option>
        </table>      
    </row>
</form>
