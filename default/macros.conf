[create_context(2)]
args = field, sets
definition = stats count($field$) as count min($field$) as min max($field$) as max avg($field$) as avg stdev($field$) as stdev | xscreatecontext $field$ "$sets$"

[discover_trend(3)]
args = fieldY, fieldX, byFields
definition = xsDiscoverTrend $fieldY$ over $fieldX$ by $byFields$\
       | where trend != 0\
       | eval absTrend = abs(trend)\
       | xsFindBestConcept absTrend in TrendChange\
       | eval dir=if(absTrend==trend,"more", "less")\
       | eval byStr=if(bv=="*", "", "When " + bf + " is " + bv + ", ")\
       | eval results=byStr + "$fieldY$ is " + BestConcept + " becoming " + dir + " " + concept + " as $fieldX$ increases"
iseval = 0

[find_best_concept(3)]
args = datafield, context, scope
definition = xsFindBestConcept $datafield$ in $context$ in $scope$\
        | rename BestCIX as termCIX\
        | rename BestConcept as termMatch\
        | rename UOM as units\
        | xsFindBestConcept termCIX in Compatibility \
        | eval results = "Using Context $context$, the value of " + $datafield$ + " " + units + " in $datafield$ is " + BestConcept + " compatible with " + termMatch \

iseval = 0
